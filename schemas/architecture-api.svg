<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="609px" height="504px" version="1.1"><defs/><g transform="translate(0.5,0.5)"><rect x="229" y="142" width="90" height="50" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(249,152)"><switch><foreignObject pointer-events="all" width="50" height="32" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.26; vertical-align: top; width: 50px; white-space: normal; text-align: center;"><div style="display:inline-block;text-align:inherit;text-decoration:inherit;" xmlns="http://www.w3.org/1999/xhtml">NGINX <br />(Lua)</div></div></foreignObject><text x="25" y="22" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="207" y="370" width="90" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(220,378)"><switch><foreignObject pointer-events="all" width="65" height="17" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.26; vertical-align: top; width: 65px; white-space: normal; text-align: center;"><div style="display:inline-block;text-align:inherit;text-decoration:inherit;" xmlns="http://www.w3.org/1999/xhtml">api1.local</div></div></foreignObject><text x="33" y="15" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><ellipse cx="29" cy="10" rx="7.5" ry="7.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 29 17 L 29 42 M 29 22 L 14 22 M 29 22 L 44 22 M 29 42 L 14 62 M 29 42 L 44 62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="469" y="247" width="90" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(478,255)"><switch><foreignObject pointer-events="all" width="72" height="17" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.26; vertical-align: top; width: 72px; white-space: normal; text-align: center;"><div style="display:inline-block;text-align:inherit;text-decoration:inherit;" xmlns="http://www.w3.org/1999/xhtml">oauth.local</div></div></foreignObject><text x="36" y="15" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 319 167 L 504 167 Q 514 167 514 177 L 514 241" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 514 246 L 511 239 L 514 241 L 518 239 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="333" y="161" width="238" height="14" stroke-width="0"/><text x="451" y="171">GET /oauth/checkToken?access_token=xxx (2)</text></g><rect x="401" y="452" width="50" height="50" fill="none" stroke="none" pointer-events="none"/><path d="M 469 262 L 307 262 Q 297 262 297 252 L 297 198" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 297 193 L 300 200 L 297 198 L 293 200 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="11px"><rect fill="#ffffff" stroke="none" x="349" y="230" width="87" height="67" stroke-width="0"/><text x="350" y="240">{</text><text x="350" y="253">"rateLimit" : 1000, </text><text x="350" y="266">"expires" : "...",</text><text x="350" y="279">"roles" : "USER"</text><text x="350" y="292">} (3)</text></g><rect x="423" y="352" width="184" height="42" fill="none" stroke="none" pointer-events="none"/><g transform="translate(423,352)"><switch><foreignObject pointer-events="all" width="186" height="44" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.26; vertical-align: top; width: 184px; height: 42px; white-space: nowrap;"><table align="center"><tbody><tr><td><b><br /></b></td><td><b>token<br /></b></td><td><b>name<br /></b></td><td><b>rateLimit<br /></b></td><td><b>roles<br /></b></td></tr><tr><td><br /></td><td>xxx<br /></td><td>client1<br /></td><td>1000<br /></td><td>USER<br /></td></tr></tbody></table></div></foreignObject><text x="93" y="28" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 514 277 L 515 346" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 515 351 L 511 344 L 515 346 L 518 344 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="431" y="302" width="169" height="27" stroke-width="0"/><text x="515" y="312">select * from token </text><text x="515" y="325">where token = xxx and valid = true</text></g><path d="M 252 192 L 252 364" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 252 369 L 248 362 L 252 364 L 255 362 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="144" y="238" width="130" height="27" stroke-width="0"/><text x="209" y="248">GET /api1/resources</text><text x="209" y="261">X-ARTE-Roles : USER (5)</text></g><path d="M 275 370 L 274 198" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 274 193 L 278 200 L 274 198 L 271 200 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="270" y="330" width="103" height="27" stroke-width="0"/><text x="321" y="333">Vary: X-ARTE-Roles</text><text x="321" y="346">{"json" : ...} (6)</text></g><rect x="71" y="370" width="90" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(84,378)"><switch><foreignObject pointer-events="all" width="65" height="17" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.26; vertical-align: top; width: 65px; white-space: normal; text-align: center;"><div style="display:inline-block;text-align:inherit;text-decoration:inherit;" xmlns="http://www.w3.org/1999/xhtml">api2.local</div></div></foreignObject><text x="33" y="15" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 1 149 C 1 133 56 133 56 149 L 56 185 C 56 201 1 201 1 185 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1 149 C 1 161 56 161 56 149" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6,160)"><switch><foreignObject pointer-events="all" width="45" height="17" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.26; vertical-align: top; width: 45px; white-space: normal; text-align: center;"><div style="display:inline-block;text-align:inherit;text-decoration:inherit;" xmlns="http://www.w3.org/1999/xhtml">cache</div></div></foreignObject><text x="23" y="15" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 229 167 L 153 167 Q 143 167 133 167 L 62 167" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 57 167 L 64 164 L 62 167 L 64 171 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="92" y="161" width="103" height="14" stroke-width="0"/><text x="143" y="171">save + increment (4)</text></g><path d="M 39 52 L 241 52 Q 251 52 251 62 L 251 136" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 251 141 L 248 134 L 251 136 L 255 134 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="64" y="49" width="216" height="27" stroke-width="0"/><text x="171" y="72">GET /api1/resouces?access_token=xxx (1)</text></g><path d="M 297 142 L 297 18 Q 297 8 297 8 L 297 8 Q 297 8 287 8 L 43 8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 38 8 L 45 5 L 43 8 L 45 12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="198" y="2" width="73" height="14" stroke-width="0"/><text x="234" y="12">{"json" : ...} (7)</text></g></g></svg>